/*
// Theme Name: Featured Walls 2021
// Author: Big Cat Design
// Author URI: https://www.behance.net/big-cat-digital
// Description: This is a custom WP theme for CAPS Ltd Feature Walls and Ceilings work
// Version: 1.0
// License: Attribution-NoDerivatives 4.0 International (CC BY-ND 4.0)
// License URI: https://creativecommons.org/licenses/by-nd/4.0/ */ 

@import 'globals/_globals' 
@import 'components/mixins.sass' 
@import 'components/utilities.sass' 

*
	box-sizing: border-box
html
	font-size: 14px
body
	margin: var(--body-margin, 0) 
	padding: var(--body-margin, 0)
	font-family: var(--base-font)
	font-size: 100% 
	line-height: 1.45  
	background-color: var(--shade-f0) 

h1, h2, h3, h4, h5
	margin-top: 0
	margin-bottom: var(--vertical-unit)
	font-family: var(--heading-font) 
	font-weight: normal
	line-height: 1.35
h3, h4, h5
	font-family: var(--base-font) 
	font-weight: 700 
h1
	font-size: var(--h1-text)
h2
	font-size: var(--h2-text) 
	margin-bottom: calc(var(--vertical-unit) / 2)
h3
	font-size: var(--h3-text)
	font-weight: var(--bold-font-weight)
h4, h5
	font-size: var(--h4-text) 
p, ul, ol, blockquote 
	@media screen and (max-width: 600px)
		font-size: var(--text-01)
		line-height: calc(var(--text-01) * 1.5)
	margin-top: 0
	margin-bottom: var(--vertical-unit)
button
	font-family: var(--base-font)
a 
	color: var(--link-color)
	transition: color var(--quicktrans) var(--easing)
	position: relative
	@include linkHover 
		font-weight: var(--link-active-weight) 
		color: var(--link-active-color)
		text-decoration: none  
		&::after
			height: 0.300rem
	&::after
		content: " "
		position: absolute
		bottom: 0
		left: 0
		width: 100%
		height: 0rem
		background-color: rgba($brand-primary-invert, 0.9)
		transition: height 220ms ease-out
blockquote
	margin-left: 0
	margin-top: calc(var(--vertical-unit) * 2)
	margin-bottom: calc(var(--vertical-unit) * 2)
	padding-left: #{(28/14)}rem
	border-left: 4px solid var(--shade-90)
	p 
		font-style: italic
img
	max-width: 100%
iframe 
	border: none
.svg-icon
	max-width: 	2rem 
	max-height: 2rem
.bc-intro-paragraph
	font-size: 1rem 
.bc-arrow-link, .bc-icon-link
	text-decoration: none
	svg
		fill: $brand-primary	
	a 
		@include linkHover
			text-decoration: none

@mixin makeBoxShadowButton($bg-color: $brand-primary, $color: $white)
	--button-ease: cubic-bezier(.63,.42,.47,.97)
	--button-timing: 180ms
	position: relative
	color: $color
	background-color: $bg-color
	box-shadow: 8px 8px 16px rgba($black, 0.12), -8px -8px 16px rgba($black, 0.12)
	transition: box-shadow
	transition: box-shadow var(--button-timing) var(--button-ease)
	@include linkHover 
		box-shadow: 8px 8px 36px rgba($black, 0.12), -8px -8px 38px rgba($black, 0.12)
.bc-call-to-action, .bc-call-to-action--major 
	@include makeFlexbox(column, $justify: center, $align: center)
.bc-call-to-action-button
	@include makeBoxShadowButton() 
	@include makeFlexbox($justify: center, $align: center)
	margin-bottom: calc(var(--vertical-unit) / 2)
	padding: calc(var(--vertical-unit) / 2) calc(var(--gutter) * 1.25)
	a 
		//font-size: calc(var(--text-01) - ((var(--text-01) - var(--text-00)) / 2))
		font-weight: var(--bold-font-weight) 
		text-decoration: none
		color: var(--white)

		&::after
			transition-duration: var(--button-timing)
		@include linkHover
			font-weight: normal 
			&::after
				height: 0
	.svg-icon
		margin-left: calc(var(--gutter) / 2)
		fill: var(--white)
		z-index: 2
	&::before
		content: ""
		position: absolute
		opacity: 0
		width: 100% 
		height: 100%
		background-color: darken($brand-primary, 12%) 
		z-index: 0
		transform-origin: center center 
		opacity: 0
		transition: opacity var(--button-timing) ease-in, transform var(--button-timing) cubic-bezier(.63,.42,.47,.97)
		transition: opacity 180ms ease-in
	@include linkHover 
		a 
			font-weight: var(--link-active-weight)
			&:after
				height: 0.3rem
		&::before
			opacity: 1
			transform: scale(1)

@media screen and (min-width: 600px) 
	html
		font-size: 16px
@media screen and (min-width: 1400px) 
	html
		font-size: 18px
@media screen and (min-width: 1800px) 
	html
		font-size: 20px
@media screen and (min-width: 2000px) 
	html
		font-size: 24px
/* Observable elements */
.is-observable
	&.is-observed

@import 'components/header.sass';	
@import 'components/animations.sass';
@import 'components/grid';
@import 'components/hero'; 
@import 'components/cards'; 
@import 'components/bc-two-column-layout'; 
@import 'components/flickity-sliders';
@import 'components/bc-two-col-feature';
@import 'components/tables';

.bc-section-title
	font-size: var(--h1-text)
.bc-hero__footer__scroll, .bc-site-header__home-link
	@include linkHover() 
		&::after
			height: 0
.bc-site-header
	& &__main-navigation, & &__menu-link 
		display: none
.bc-content-component 
	width: 100%
	margin-left: auto
	margin-right: auto
	padding-left: calc(var(--gutter) /2)
	padding-right: calc(var(--gutter) /2)
	&--media, &--text
		@extend .bc-content-component
	@media screen and (min-width: $tablet-large) 
		max-width: 70.72% 
	&--text
		.bc-text-block 
			margin-left:  auto
			margin-right: auto
	&--media
		@media screen and (max-width: 1023px)
			width: calc(100% + var(--gutter) * 2)
			padding-left: 0
			padding-right: 0
			margin-left: calc(var(--gutter) * -1)
			margin-right: calc(var(--gutter) * -1) 

.bc-text-block
	max-width: (650px / 16px * 1rem)
.bc-text-component, .bc-media-component
	margin-left: auto
	margin-right: auto
.bc-text-component
	max-width: (650px / 16px * 1rem) 
.bc-media-component
	max-width: 70.72% 
	@media screen and (max-width: 839px)
		margin-left: calc(var(--gutter) * -1)
		margin-right: calc(var(--gutter) * -1) 
.has-lines
	position: relative
	margin-bottom: 15px
	overflow: visible
	.lines
		position: absolute
		height: 15px
		width: 100%
		left: 0
		right: 0
		bottom: -15px 
		background-image: url('../media/horizontal-down.svg')   
		background-repeat: repeat-x
		background-position: left top
 	
/* Inner page header */
.bc-site-header
	& &__home-link
		max-width: 25%
		@media screen and (min-width: $tablet-large) 
			max-width: 12.5%
	& &__main-navigation
		&__item
			> a
				@media screen and (max-width: calc(#{$tablet-large} - 1px))	
					color: var(--text-black)
/* Header overlay */
.bc-site-header
	& &__home-link
		> svg
			max-height: 4.189rem

/* Hero components overwrites */
.bc-hero
	padding-top: 		calc(var(--vertical-unit) * 4)
	padding-bottom: calc(var(--vertical-unit) * 4) 
	.bc-media-overlay
		background-color: rgba($black, 0.48)
	& &__body
		@include makeFlexbox(column, $justify: center)
		width: 100% 
		&__content
			p 
				&:last-child
					margin-bottom: 0
	& &__heading
		font-size: var(--large-text)
		margin-bottom: 0
	& &__tagline
		font-weight: var(--bold-font-weight) 
 		margin-bottom: 0
	& &__link
		margin-bottom: 0
	& &__footer
		justify-content: center
	&.bc-hero--in-page 
		.bc-hero__heading
			margin-bottom: var(--vertical-unit)
		.bc-media-overlay
			background-color: transparent
			background-image: linear-gradient(rgba($black, 0) 40%, rgba($black, 0.72)) 
	&.bc-innerpage-hero
		padding-top: calc(var(--vertical-unit) * 6)
		padding-bottom: calc(var(--vertical-unit) * 5)
.bc-hero--full-screen:not(.bc-hero--in-page)
	padding-top: 		0
	padding-bottom: 0
	
.bc-card 
	& &__media 
		background-color: var(--shade-60) 
	&--plain-text 
		background-color: var(--shade-e0)
		@include linkHover
			background-color: var(--shade-d0)
			text-decoration: none
			a 
				text-decoration: underline
				font-weight: var(--link-active-weight)
		
/* Transcript for object embeds */
.bc-show-hide
	margin-top: calc(var(--vertical-unit) / 2 * -1)
	margin-bottom: calc(var(--vertical-unit) / 2)
	& &__toggle
		position: relative
		@include makeFlexbox($align: center)
		padding-top: calc(var(--vertical-unit) / 2)
		padding-bottom: calc(var(--vertical-unit) / 2)
		font-family: var(--heading-font)
		font-size: var(--text-01)
		font-weight: var(--bold-font-weight)
		text-decoration: none
		@include linkHover
			text-decoration: underline
			cursor: pointer
		&.bc-is-active 
			.bc-show-hide-icon
				&.bc-show-hide-icon__hide
					opacity: 1
				&.bc-show-hide-icon__show
					opacity: 0
			+ .bc-show-hide__body
				margin-bottom: var(--vertical-unit)
	& &-icon
		position: absolute
		right: 0
		width:  var(--text-02)
		height: var(--text-02)  
		opacity: 1
		z-index: 10		
		//transition: opacity var(--quicktrans) var(--easing)
		&.bc-show-hide-icon__hide
			opacity: 0
			transform: rotate(180deg)
	& &__hide-icon
		opacity: 0	
	& &__body
		height: 0
		overflow: hidden 
		padding-left:  calc(var(--vertical-unit) / 2) calc(var(--gutter) / 2)
		padding-right: calc(var(--gutter) / 2)
		transition: padding var(--medtrans) var(--easing), height var(--medtrans) var(--easing)
		&.bc-is-active
			padding-top: 		var(--vertical-unit)
			padding-bottom: var(--vertical-unit)
/* FW&C container */
.bc-fwc-containter
	padding-top: calc(var(--vertical-unit) * 2)
	background-color: transparent
	background-image: linear-gradient(white, var(--shade-f0))
.bc-flickity
	padding-bottom: 0	
	.flickity-button	
		top: 50%
		transform: translateY(-50%)
		border-radius: 0
		background-color: rgba(0, 0, 0, 0.24) 
		transition: background-color 320ms ease-out
		.flickity-button-icon
			fill: var(--white) 
		@include linkHover 
			background-color: rgba($brand-primary, 0.98)
	.flickity-prev-next-button.previous
		left: 0
	.flickity-prev-next-button.next
		right: 0
	&.bc-flickity--feature-slider
		position: relative 
		margin-bottom: calc(var(--vertical-unit) * 2 )
		.flickity-page-dots
			display: block 
			bottom: calc(#{$vertical-unit} * -1rem)  
			.dot
				transition: background-color 320ms ease-out, opacity 320ms ease-out
				@include linkHover()
					background-color: var(--red)
					opacity: 0.64
				&.is-selected
					background-color: var(--red)
		.flickity-button	
			width: 3.330rem
			height: 3.330rem
		.bc-flickity__slide
			flex-direction: column
			height: 65vh 
			margin-right: 10px
			@media screen and (min-width: $tablet-large) 
				opacity: 0.56
				transform: scale(0.90)
				transition: opacity 320ms ease-out, transform 320ms ease-out
			&.has-landscape-image
				.bc-flickity__slide__slide-info
					left: 0
					right: auto
					width: 100%
					background-color: rgba($red, 1)
					@media screen and (min-width: $tablet) 
						left: auto 
						right: 12%
						bottom: 16% 
						width: 40% 
						background-color: rgba($red, 0.56)
			@media screen and (min-width: $tablet)
				height: 60vh
			@media screen and (min-width: 810px)
				height: 75vh
			@media screen and (min-width: $tablet-large)
				height: 90vh
			@media screen and (min-width: $tablet-large) 
				&.is-selected
					opacity: 1
					transform: scale(1)
			picture
				flex: 1 1 80%
				overflow: hidden 
				@include makeFlexbox(column, $justify: center, $align: center)
			.bc-flickity__slide__slide-info
				display: none
				position: absolute
				right: 5%
				bottom: 20% 
				width: 80%
				padding: var(--vertical-unit) var(--gutter)
				color: white
				background-color: rgba($red, 0.56)
				&__heading	
					margin-bottom: calc(var(--vertical-unit) / 2)
					font-size: var(--regular-text)
				p
					margin-bottom: 0
				@media screen and (min-width: $tablet)
					right: 12%
					bottom: 16% 
					width: 40%
					&__heading	
						font-size: var(--regular-text)
		@media screen and (min-width: $tablet-large)
			.flickity-viewport			
				overflow: visible
/* Two col feature overrides */ 
.bc-2-col-feature
	& &__col
		position: relative
		//box-shadow: 4px 4px rgba($black, 1) 
		// @include linkHover
		// 	cursor: pointer
		// 	box-shadow: 2px 2px rgba($black, 1)

		// 	.bc-2-col-feature__overlay
		// 		background-color: rgba($black, 0.36) 
	& &__media 
		@include makeFlexbox(column, $justify: stretch, $align: stretch)
		picture
			flex: 1 1 auto
			@include is-4x5
	& &__overlay
		position: absolute
		top: 0
		left: 0
		@include makeFlexbox(column, $justify: flex-end)
		width: 100%
		height: 100%
		padding: var(--gutter) 
		color: $white
		background-image: linear-gradient(rgba(0, 0, 0, 0) 40%, rgba(0, 0, 0, 0.42))
		transition: background-color 220ms ease-out
	.bc-arrow-link
		a
			text-decoration: none
			color: var(--white) 
			@include linkHover
				text-decoration: none
			&::after
				background-color: var(--white)
		.svg-icon 
			fill: var(--white)	
//Two-col sliders 
.bc-2-col-sliders
	&.bc-grid--x2
		display: block
		@media screen and (min-width: $tablet) 
			display: grid
.bc-2-col-slider
	margin-bottom: calc(var(--vertical-unit) * 2)
	grid-template-columns: 1fr 
	position: relative
	
	&::after
		position: absolute
		left: 0
		bottom: 0
		content: " "
		width: 11%
		height: #{(3px / 14px)}rem
		background-color: var(--brand-primary)
	&.bc-grid
		@media screen and (min-width: $tablet)
			grid-template-columns: repeat(2, 1fr) 
			gap: var(--gutter) 
			&:nth-of-type(1)
				.bc-2-col-slider__intro
					order: 2	
		@media screen and (min-width: $tablet-large)
			grid-template-columns: (1fr - 0.618fr) 0.618fr
			gap: var(--gutter) 
	@media screen and (min-width: $tablet)
		&:nth-of-type(even)
			.bc-2-col-slider__intro
				order: 2	
	@media screen and (min-width: $tablet)
		&:nth-of-type(even)
			&.bc-grid 
				grid-template-columns: 0.618fr (1fr - 0.618fr)
				gap: var(--gutter)  
	& &__intro
		@include makeFlexbox(column, center)					
				
	.bc-flickity
		position: relative
		margin-bottom: var(--vertical-unit)
		padding: (20 / (14 * 1) * 1rem) (20 / 14 * 1rem)
		background-color: var(--white)
		.flickity-page-dots	
			display: none
		--frame-border-color: #{rgba($shade-b0, 0.8)}  
		&.is-observed
			.frame
				&.frame--top 
					border-top-color: var(--brand-primary)
					border-left-color: var(--brand-primary) 
				&.frame--bottom
					border-bottom-color: var(--brand-primary) 
					border-right-color:  var(--brand-primary)  
		.frame
			display: none
			position: absolute
			width: 10%
			height: 10%
			border: 2px solid transparent
			transition: border-color 420ms ease-out
			&.frame--top 
				top: 0
				left: 0
				border-top-color: var(--frame-border-color)
				border-left-color: var(--frame-border-color) 
			&.frame--bottom
				right: 0
				bottom: 0
				border-bottom-color: var(--frame-border-color) 
				border-right-color: var(--frame-border-color) 
			&::after
				display: none 
				content: " "
				position: absolute
				width: 15%
				height: 0.381rem
				background-color: $brand-primary
			&:after
				right: 0
				bottom: -0.381rem
		@media screen and (min-width: $tablet)
			&:before, &::after
				width: 8%
		.bc-flickity__slide
			height: 60vh
			justify-content: center
			background-color: var(--white)
			picture
				@include makeFlexbox($justify: center, $align: center)
			
.bc-footer, .bc-get-started 
	color: var(--white)
	a 
		color: var(--white)
	.svg-icon
		fill: var(--white)
	.bc-icon-link
		a
			text-decoration: none
.bc-footer
	background-color: $brand-darker
.bc-get-started 
	background-color: $brand-primary
	& &__links
		display: grid
		gap: var(--gutter)
		@media screen and (min-width: 560px)
			grid-template-columns: repeat(2, 1fr)
			
	& &__column
		@include makeFlexbox($justify: center, $align: center)
	& &__link
		@include makeFlexbox(column, $justify: center, $align: center)
		width: 61.8%
	& &__button-wrap
		position: relative
		width: 100%
		padding-top: 100%  

	& &__button
		position: absolute
		@include makeFlexbox(column, $justify: center, $align: center)
		text-align: center
		width: 100%
		height: 100%
		top: 0
		left: 0
		padding: var(--vertical-unit) var(--gutter)
		text-decoration: none 
		box-shadow: 8px 8px 16px rgba($black, 0.12), -8px -8px 16px rgba($black, 0.12)
		transition: box-shadow 220ms ease-out 
		&__text
			z-index: 2
		.svg-icon
			margin-bottom: calc(var(--vertical-unit) / 2)
			margin-right: calc(var(--vertical-unit) / 2)
			transition: transform 280ms ease-in-out 
			transform: scale(1)
		@include linkHover
			box-shadow: 8px 8px 24px rgba($black, 0.12), -8px -8px 24px rgba($black, 0.12) 
			.svg-icon
				transform: scale(1.15)
			&::after
				height: 0 
	.bc-icon-link
		flex: 1 1 100%
		transition: background-color 320ms ease-out
		margin-left: calc(var(--gutter) / 2  * -1)
		margin-right: calc(var(--gutter) / 2  * -1)
		padding: calc(var(--vertical-unit) / 2) calc(var(--gutter) / 2) 
		.svg-icon
			opacity: 0.9
			transition: opacity 320ms ease-out
		@include linkHover()
			background-color: $brand-darker
			.svg-icon
				opacity: 1

	
		
